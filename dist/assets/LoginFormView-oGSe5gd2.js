import{d as j,k as p,r as T,a as n,b,c as C,e,w as o,f as a,_ as S,q as f,n as B,x as g,I as U,i as $,j as q,J as E,E as w,C as F,D as L,G as Z}from"./index-CqjL3Yea.js";const c=r=>(F("data-v-c806f114"),r=r(),L(),r),A={class:"zj-home-container"},D={class:"zj-home-main-container"},J={class:"zj-blog-login-container"},G={class:"zj-blog-login-form-item"},M=c(()=>a("h1",null,"欢迎前辈回家，快登入解锁更多功能吧！",-1)),O=c(()=>a("p",null,"© 2024- zbusTop-Z不殊",-1)),P=c(()=>a("p",null,"京ICP备2023022073号-1",-1)),H=c(()=>a("p",null,"京公网安备11010802044104号",-1)),K={class:"zj-home-right-container"},Q=j({__name:"LoginFormView",setup(r){p({tokenName:"",tokenValue:"",tokenTimeout:0,sessionTimeout:0,loginId:""});const i=T({tokenName:"",tokenValue:"",tokenTimeout:0,sessionTimeout:0,loginId:""}),s=p({username:"",password:""});p({username:[{required:!0,message:"请输入用户名",trigger:["change","blur"]},{pattern:/^[a-zA-Z][a-zA-Z0-9-]{3,31}$/,message:"用户名由英文字母开头的长度4-32位字母、_和-组成",trigger:["change","blur"]}],password:{required:!0,message:"请输入至少8个字符的密码",min:8,trigger:["change","blur"]}});function v(){E(s).then(l=>{if(l.code!="0"){const m=l.message?l.message:"登录失败，请联系管理员处理！";w.error({message:m,duration:5*1e3})}const t=l.data;t.tokenValue&&t.tokenName&&(i.value=t),localStorage.getItem("zsUserToken")&&localStorage.setItem("zsUserToken",JSON.stringify(t))}).catch(l=>{console.log("登录遇到异常了！"+l);let{message:t}=l;w.error({message:t,duration:5*1e3})})}return(l,t)=>{const _=n("el-affix"),m=n("el-text"),k=n("el-input"),d=n("el-form-item"),h=n("el-button"),z=n("router-link"),I=n("el-form"),x=n("el-link"),V=n("el-card"),y=n("el-main"),N=n("el-container");return b(),C("div",A,[e(N,null,{default:o(()=>[e(y,{class:"zj-home-body-container"},{default:o(()=>[a("div",D,[e(_,null,{default:o(()=>[e(S)]),_:1}),a("div",J,[e(I,{"label-width":"auto",model:s,style:{"max-width":"600px"}},{default:o(()=>[a("div",G,[e(m,null,{default:o(()=>[M]),_:1})]),e(d,{label:"用户名"},{default:o(()=>[e(k,{modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=u=>s.username=u)},null,8,["modelValue"])]),_:1}),e(d,{label:"密码"},{default:o(()=>[e(k,{modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=u=>s.password=u),type:"password","show-password":!0},null,8,["modelValue"])]),_:1}),e(d,{label:"       "},{default:o(()=>[e(h,{type:"primary",onClick:v},{default:o(()=>[f("登录")]),_:1}),e(h,{type:"primary"},{default:o(()=>[e(z,{to:"/register",style:{color:"white"}},{default:o(()=>[f("注册")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),i.value.loginId?(b(),B(V,{key:0},{default:o(()=>[a("p",null,"loginId: "+g(i.value.loginId),1),a("p",null,"tokenName: "+g(i.value.tokenName),1),a("p",null,"tokenValue: "+g(i.value.tokenValue),1),e(x,{href:"/web"},{default:o(()=>[f("回到首页")]),_:1})]),_:1})):U("",!0)]),e(V,{class:"zj-blog-footer"},{default:o(()=>[O,P,H]),_:1})]),a("div",K,[e(_,{offset:80},{default:o(()=>[e($),e(q)]),_:1})])]),_:1})]),_:1})])}}}),W=Z(Q,[["__scopeId","data-v-c806f114"]]);export{W as default};
